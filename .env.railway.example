# =============================================================================
# RAILWAY ENVIRONMENT VARIABLES - Sistema Club Ecuestre
# =============================================================================
# Este archivo documenta todas las variables de entorno necesarias para cada
# servicio en Railway. NO subas este archivo con valores reales a git.
# =============================================================================

# =============================================================================
# 1. BACKEND (FastAPI)
# =============================================================================

# Database (automática desde addon PostgreSQL)
DATABASE_URL=${{postgres.DATABASE_URL}}

# Redis (automática desde addon Redis)
REDIS_URL=${{redis.REDIS_URL}}

# Security - IMPORTANTE: Genera una nueva para producción
# Generar con: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=<GENERA_UNO_NUEVO>

# CORS - Actualiza con la URL real de tu frontend en Railway
BACKEND_CORS_ORIGINS=https://tu-frontend.railway.app

# Environment
ENVIRONMENT=production

# JWT Settings (opcional, usa defaults si no se especifican)
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Cloudinary (opcional - para subir fotos de caballos)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Email SMTP (opcional - para notificaciones)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu-email@gmail.com
SMTP_PASSWORD=tu-app-password-de-gmail
EMAIL_FROM=tu-email@gmail.com
EMAIL_FROM_NAME=Club Ecuestre

# API Config (opcional, usa defaults)
API_V1_STR=/api/v1
PROJECT_NAME=Sistema Club Ecuestre
VERSION=1.0.0

# =============================================================================
# 2. CELERY WORKER
# =============================================================================
# Usa las mismas variables que backend, pero NO necesita CORS ni SMTP/Cloudinary
# a menos que las tareas específicas las requieran.

DATABASE_URL=${{postgres.DATABASE_URL}}
REDIS_URL=${{redis.REDIS_URL}}
SECRET_KEY=${{backend.SECRET_KEY}}
ENVIRONMENT=production

# Si tus tareas de Celery envían emails o suben archivos, agrega:
# CLOUDINARY_CLOUD_NAME=${{backend.CLOUDINARY_CLOUD_NAME}}
# CLOUDINARY_API_KEY=${{backend.CLOUDINARY_API_KEY}}
# CLOUDINARY_API_SECRET=${{backend.CLOUDINARY_API_SECRET}}
# SMTP_HOST=${{backend.SMTP_HOST}}
# SMTP_PORT=${{backend.SMTP_PORT}}
# SMTP_USER=${{backend.SMTP_USER}}
# SMTP_PASSWORD=${{backend.SMTP_PASSWORD}}
# EMAIL_FROM=${{backend.EMAIL_FROM}}
# EMAIL_FROM_NAME=${{backend.EMAIL_FROM_NAME}}

# =============================================================================
# 3. CELERY BEAT
# =============================================================================
# Usa las mismas variables que Celery Worker

DATABASE_URL=${{postgres.DATABASE_URL}}
REDIS_URL=${{redis.REDIS_URL}}
SECRET_KEY=${{backend.SECRET_KEY}}
ENVIRONMENT=production

# =============================================================================
# 4. FRONTEND (React + Vite)
# =============================================================================

# IMPORTANTE: Esta variable se usa en BUILD TIME, no runtime
# Actualiza con la URL real de tu backend en Railway
VITE_API_URL=https://tu-backend.railway.app/api/v1

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
#
# 1. Las variables con ${{servicio.VARIABLE}} son referencias a otros servicios
#    de Railway. Railway las resuelve automáticamente.
#
# 2. VITE_API_URL es BUILD-TIME: si cambias esta variable, debes redesplegar
#    el frontend completo (no es un simple restart).
#
# 3. BACKEND_CORS_ORIGINS: Railway crea URLs como:
#    - https://nombre-servicio-production-xxxx.railway.app
#    Actualiza con la URL EXACTA de tu frontend (sin trailing slash).
#
# 4. Para generar SECRET_KEY seguro en producción:
#    python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 5. PostgreSQL y Redis se crean como addons en Railway y automáticamente
#    exponen DATABASE_URL y REDIS_URL.
#
# 6. Credenciales de Email (Gmail):
#    - Usa "App Passwords" de Google, NO tu contraseña normal
#    - Configura en: https://myaccount.google.com/apppasswords
#
# 7. Cloudinary (opcional para imágenes):
#    - Regístrate en https://cloudinary.com (free tier disponible)
#    - Encuentra las credenciales en Dashboard > Settings > Access Keys
#
# =============================================================================
